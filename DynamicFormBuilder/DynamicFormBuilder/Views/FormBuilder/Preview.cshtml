@model Form
@{
    ViewData["Title"] = "Preview - " + Model.Title;
}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

<div class="container mt-4">
    <h2>Preview: @Model.Title</h2>

    <form>
        @for (int i = 0; i < Model.Fields.Count; i++)
        {
            var f = Model.Fields[i];
            <div class="mb-3">
                <label class="form-label">
                    @f.Label
                    @if (f.IsRequired)
                    {
                        <span class="text-danger">*</span>
                    }
                </label>
                <select class="form-select" disabled>
                    <option value="">-- Select --</option>
                    @* Fixed options *@
                    @foreach (var option in new[] { "Option 1", "Option 2", "Option 3" })
                    {
                        <option selected="@(f.SelectedOption == option ? "selected" : null)">
                            @option
                        </option>
                    }

                    @* Custom option *@
                    @if (!string.IsNullOrEmpty(f.SelectedOption) &&
                   !new[] { "Option 1", "Option 2", "Option 3" }.Contains(f.SelectedOption))
                    {
                        <option selected="selected">@f.SelectedOption</option>
                    }
                </select>

                @if (f.IsRequired)
                {
                    <div class="form-text text-danger">Required field</div>
                }
            </div>
        }
    </form>

    <a asp-action="Index" class="btn btn-secondary">Back to list</a>
</div>
